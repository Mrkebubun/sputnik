<html>
<head>
</head>
<body>
<div id="container"></div>
<script id="template">
{{#markets}}
{{ticker}}<br>
{{/markets}}
</script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/coffee-script/1.6.3/coffee-script.min.js"></script>
<script src="//cdn.ractivejs.org/latest/ractive.min.js"></script>
<script src="sputnik.coffee" type="text/coffeescript"></script>
<script type="text/coffeescript">
# this is ui.coffee... essentially
$ ->
    ractive = new Ractive
        el: "container"
        template: "template"
        data:
            markets: {}
    
    sputnik = new window.Sputnik "wss://demo.m2.io:8000"
    window.sputnik = sputnik
    
    sputnik.connect()
    
    sputnik.on "markets", (markets) ->
        ractive.set("markets", markets)
</script>
</body>
</html>

