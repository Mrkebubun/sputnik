/*!
 * Globalize v1.0.0-alpha.10 2014-10-22T17:24Z Released under the MIT license
 * http://git.io/TrdQbw
 */
!function(a,b){"function"==typeof define&&define.amd?define(["cldr","../globalize","cldr/event"],b):"object"==typeof exports?module.exports=b(require("cldrjs"),require("globalize")):b(a.Cldr,a.Globalize)}(this,function(a,b){var c=b._createError,d=b._validateCldr,e=b._validateDefaultLocale,f=b._validateParameterPresence,g=b._validateParameterRange,h=b._validateParameterType,i=b._validateParameterTypePlainObject,j=function(a,b){h(a,b,void 0===a||"number"==typeof a,"Number")},k=function(a,b){h(a,b,void 0===a||"string"==typeof a,"a string")},l=function(a,b,c){var d,e=b,f="",g=",",h=c?!0:!1;for(a=String(a).split("."),d=a[0].length;d>e;)f=a[0].slice(d-e,d)+(f.length?g:"")+f,d-=e,h&&(e=c,h=!1);return a[0]=a[0].slice(0,d)+(f.length?g:"")+f,a.join(".")},m=function(a){return isNaN(a)?0/0:Math[0>a?"ceil":"floor"](a)},n=function(a,b,c){var d;for("string"!=typeof a&&(a=String(a)),d=a.length;b>d;d+=1)a=c?a+"0":"0"+a;return a},o=function(a,b,c,d,e,f){return d?(a=f?e(a,f):e(a,Math.pow(10,-d)),a=+a.toFixed(d),c&&(a=String(a).split("."),a[1]=n(a[1]||"",c,!0),a=a.join("."))):a=m(a),a=String(a),b&&(a=a.split("."),a[0]=n(a[0],b),a=a.join(".")),a},p=function(a){return c("E_UNSUPPORTED","Unsupported {feature}.",{feature:a})},q=function(a,b,c){var d,e;return a=a.toPrecision(b+2),d=Math.ceil(Math.log(Math.abs(a))/Math.log(10)),d-=b,e=Math.pow(10,d),a=c(a,e),0>d&&(a=+a.toFixed(-d)),a},r=function(a,b,c,d){var e,f;if(b>c&&(c=b),e=q(a,b,d),f=q(a,c,d),a=+e===+f?e:f,a=(+a).toString(10),/e/.test(a))throw p({feature:"integers out of (1e21, 1e-7)"});return b-a.replace(/^0+|\./g,"").length>0&&(a=a.split("."),a[1]=n(a[1]||"",b-a[0].replace(/^0+/,"").length,!0),a=a.join(".")),a},s=function(a,b){var c,d,e,f,g,h,i,j,k,m,n,p,q,s,t,u,v;return j=b[1],g=b[2],f=b[3],d=b[4],h=b[5],e=b[6],s=b[7],m=b[8],t=b[9],q=b[15],c=b[16],i=b[17],v=b[18],isNaN(a)?i:(0>a?(n=b[12],k=b[13],u=b[14]):(n=b[11],k=b[0],u=b[10]),isFinite(a)?(p=k,-1!==n.indexOf("%")?a*=100:-1!==n.indexOf("‰")&&(a*=1e3),a=isNaN(h*e)?o(a,g,f,d,q,s):r(a,h,e,q),a=a.replace(/^-/,""),m&&(a=l(a,m,t)),p+=a,p+=u,p.replace(/'[^']+'|[.,\-+E%\u2030]/g,function(a){return"'"===a.charAt(0)?a:v[a]})):k+c+u)},t=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,u=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,q,r,s,u;if(a=a.match(t),!a)throw new Error("Invalid pattern: "+a);if(m=a[1],l=a[3],e=a[4],s=a[8],q=a[9],u=a[10],s?s.replace(/(@+)(#*)/,function(a,b,c){k=b.length,h=k+c.length}):(d=a[7],f=a[6],d&&(d.replace(/[0-9]+/,function(a){i=a}),i?(o=+("0."+i),i=i.length):i=0,g=d.length-1),f.replace(/0+$/,function(a){j=a.length})),q)throw p({feature:"scientific notation (not implemented)"});if(l)throw p({feature:"padding (not implemented)"});return-1!==(b=e.lastIndexOf(","))&&(c=e.split(".")[0],n=c.length-b-1,-1!==(c=e.lastIndexOf(",",b-1))&&(r=b-1-c)),[m,l,j,i,g,k,h,o,n,r,u]},v=function(a){return a.main("numbers/defaultNumberingSystem")},w=function(a,b){return b.main(["numbers/symbols-numberSystem-"+v(b),a])},x={".":"decimal",",":"group","%":"percentSign","+":"plusSign","-":"minusSign",E:"exponential","‰":"perMille"},y=function(a){var b,c={};for(b in x)c[b]=w(x[b],a);return c},z=function(a){return a=a||"round",a="truncate"===a?m:Math[a],function(b,c){return c=c||1,a(b/c)*c}},A=function(a,b,c){function d(a,b){a in c&&(j[b]=c[a])}var e,f,g,h,i,j;return c=c||{},a=a.split(";"),i=a[0],e=a[1]||"-"+i,g=u(e),f=g[0],h=g[10],j=u(i).concat([i,f+i+h,f,h,z(c.round),w("infinity",b),w("nan",b),y(b)]),d("minimumIntegerDigits",2),d("minimumFractionDigits",3),d("maximumFractionDigits",4),d("minimumSignificantDigits",5),d("maximumSignificantDigits",6),c.useGrouping===!1&&(j[8]=null),"minimumFractionDigits"in c&&!("maximumFractionDigits"in c)?j[4]=Math.max(j[3],j[4]):!("minimumFractionDigits"in c)&&"maximumFractionDigits"in c&&(j[3]=Math.min(j[3],j[4])),j},B=/^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)(E[+-]?[0-9]+)?([^0-9]*)$/,C=function(a){return a.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},D=function(a,b){var c,d,e,f,g,h,i,j,k;if(d=b[0],e=b[1],g=b[2],h=b[3],c=a.match(d))i=1/0,j=a.slice(0,c.length),k=a.slice(c.length+1);else{if(f=new RegExp(Object.keys(e).map(function(a){return C(a)}).join("|"),"g"),a=a.replace(f,function(a){return e[a]}),a=a.match(B),!a)return 0/0;if(j=a[1],k=a[6],i=a[2].replace(/,/g,""),a[5]&&(i+=a[5]),i=+i,isNaN(i))return 0/0;-1!==a[0].indexOf("%")?(i/=100,k=k.replace("%","")):-1!==a[0].indexOf("‰")&&(i/=1e3,k=k.replace("‰",""))}return j===g&&k===h&&(i*=-1),i},E=function(a){var b,c={};for(b in x)c[w(x[b],a)]=b;return c},F=function(){var a=arguments[0],b=[].slice.call(arguments,1);return b.forEach(function(b){var c;for(c in b)a[c]=b[c]}),a},G=function(a,b){var c,d;return a=a.split(";"),c=a[1]||"-"+a[0],d=u(c),[w("infinity",b),F({},x,E(b)),d[0],d[10].replace("%","").replace("‰","")]},H=function(a,b){if("decimal"!==a&&"percent"!==a)throw new Error("Invalid style");return b.main(["numbers",a+"Formats-numberSystem-"+v(b),"standard"])};return b.numberFormatter=b.prototype.numberFormatter=function(a){var b,c,h,k,l,m,n,o;if(i(a,"options"),a=a||{},b=this.cldr,e(b),b.on("get",d),a.pattern||(n=H(a.style||"decimal",b)),o=A(n,b,a),b.off("get",d),l=o[2],k=o[3],c=o[4],m=o[5],h=o[6],isNaN(m*h)){if(!isNaN(m)||!isNaN(h))throw new Error("Neither or both the minimum and maximum significant digits must be present");g(l,"minimumIntegerDigits",1,21),g(k,"minimumFractionDigits",0,20),g(c,"maximumFractionDigits",k,20)}else g(m,"minimumSignificantDigits",1,21),g(h,"maximumSignificantDigits",m,21);return function(a){return f(a,"value"),j(a,"value"),s(a,o)}},b.numberParser=b.prototype.numberParser=function(a){var b,c,g;return i(a,"options"),a=a||{},b=this.cldr,e(b),b.on("get",d),a.pattern||(c=H(a.style||"decimal",b)),g=G(c,b),b.off("get",d),function(a){return f(a,"value"),k(a,"value"),D(a,g)}},b.formatNumber=b.prototype.formatNumber=function(a,b){return f(a,"value"),j(a,"value"),this.numberFormatter(b)(a)},b.parseNumber=b.prototype.parseNumber=function(a,b){return f(a,"value"),k(a,"value"),this.numberParser(b)(a)},b});