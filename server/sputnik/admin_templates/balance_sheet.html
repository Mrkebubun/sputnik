{% extends "base.html" %}
{% block title %}Balance Sheet{% endblock %}
{% block balance_sheet_active %}class="active"{% endblock %}
{% block body %}
<div class="container">
<div class="panel panel-primary">
    <div class="panel-heading">Balance Sheet</div>
    <div class="panel-body">
    Assets
    <table id="assets" class="table table-striped table-hover">
        <thead>
            <tr><th>Contract</th><th>Position</th><th>Description</th></tr>
        </thead>
        <tbody>
            {% for ticker, position_total in asset_totals.iteritems() %}
            <tr>
                <th>{{ticker}}</th>
                <th>{{position_total}}</th>
            </tr>
                {% for position in assets_by_ticker[ticker] %}
                <tr>
                    <td>{{position.user.username}}</td>
                    <td>{{position.position}}</td>
                    <td>{{position.description}}</td>
                </tr>
                {% endfor %}
            {% endfor %}
        </tbody>
    </table>
    Liabilities
    <table id="liabilities" class="table table-striped table-hover">
        <thead>
            <tr><th>Contract</th><th>Position</th><th>Description</th></tr>
        </thead>
        <tbody>
            {% for ticker, position_total in liability_totals.iteritems() %}
            <tr>
                <th>{{ticker}}</th>
                <th>{{position_total}}</th>
            </tr>
                {% for position in liabilities_by_ticker[ticker] %}
                <tr>
                    <td>{{position.user.username}}</td>
                    <td>{{position.position}}</td>
                    <td>{{position.description}}</td>
                </tr>
                {% endfor %}
            {% endfor %}
        </tbody>
    </table>
    </div>
</div>
</div>
{% endblock %}
